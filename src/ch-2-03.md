# 第三章 数据表和 Gii 快速搭建网站

参考网页：
+ http://www.uml.org.cn/sjjm/201004284.asp
+ http://bbs.hc3i.cn/thread-122902-1-1.html

## 引言

数据库中表的设计非常重要，是网站稳健运行的基础。但是前期考虑不周、后期新的业务需要等因素，往往需要重建、修改或新增数据表，给网站开发和维护带来了非常大的麻烦。虽然可以使用 git diff 等工具协助修改数据表带来的改动，但是做好前期设计、遵循一些原则还是很有帮助的。具体可以参考[搜索数据库表设计原则](http://bbs.hc3i.cn/thread-122902-1-1.html)。现摘录一部分如下。

+ 拿到任务就开始建立表，但是这绝对是最差的做法;
+ 范式设计,确保表的独立性；
+ 考虑性能，加入关联和冗余；
+ 尽量增加属性，不随意删除属性；
（略）

从上一章的分析可知，当采用管理者和被管理者分离，被管理者无需登录网站的设想，数据表至少需要 `tbl_user` 和 `tbl_personinfo` ，分别用于存储管理者和被管理者。管理者可以登录，可以是一个人或者一个组织。被管理者的信息只是个人信息。在建网之前，我也想了很多，感觉思考的角度有如下几点。

+ 不会画 E-R 图，还是要理清一下整个网站大致的工作过程；


## 一、数据表

### 1、 `tbl_user` 的设计

系统可以自动生成 `tbl_user` 的。假设你已经安装好，