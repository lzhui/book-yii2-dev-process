# 第二十四章 内部数据关系的处理

现在还没有实现的问题有下列几项。
+ 日期计算的算法，需要重新测试
+ 休假对数据库的操作，没能同步
+ 数据备份
+ 定时功能
+ 路途天数的设定
+ 后台汉化
+ 按比例外出的实现

## 日期计算的算法

不要时刻。休假日期，不需要时刻。但是战备日期需要日期和起止时间。

干部科的时间是一致的。

## 休假对数据库的操作。

同步操作还没有实现，需要对这些批量处理。
+ 分清哪些是不怎么变动的量，哪些是经常变动的量。
+ 不怎么变动的量，比如一个单位总共有多少人
+ 经常变动的量，比如一个单位这个时候在位的有多少人。
+ 在单位表 `tbl_unit` 中，含有统计数据，需要实时更新。
+ 在假期统计表 `tbl_statistics_holiday` 中，含有更多统计数据。
+ 定期执行，以及周末战备的人员变动。

## 数据备份

分为一小时内的备份，一天内的备份，若干时间的备份。然后定期删除太长时间的备份内容。

## 定时功能

还有几天到假，提醒。
周末从啥时候开始，战备从啥时候开始？需要加入吗？

## 后台汉化（暂时不做）

暂时后台自己负责，后期考虑汉化和改善。

## 路途天数的设定（现在不做）

需要考虑行政职别的改变，以及其他形式的改变。

考虑增加省市县的管理。最好添加在线编辑功能，免得每次都要跳转新页面。
