# 不知道的章节

## 还存在的问题
+ 用户注册的时候，出现权限重复录入的情况。
+ 后续添加的拥有单位，也即管理单位，由于原来设计的问题，很多地方需要添加拥有单位。
+ 拥有单位的意思：就是管理该单位人员的周末回家等信息，添加的一个辅助选项，表明该用户所属的单位。
+ 拥有单位跟查看单位的区别。某用户可以查看所有的单位，但是他可能只是机关用户，在设置周末回家的时候，不能修改其他单位的人员回家信息。
+ 给网站安装编写 install.php 程序，引导写入默认的数据等。
+ 对于检测到的逾期不归的，要设置为逾期未归。不能不做处理。

## 解决用户批量注册存在的问题

+ 由于添加了拥有单位 `own_unit` ，所以要重新修改相应的代码。已经完成
+ 批量注册的时候，权限重复录入问题。这个不应该在注册的时候给予权限，应当在后续给予权限。（后经发现，只有干部科和军务科的需要修改）



## 数据库设计补全

第一次设计数据库，可能出现有些项没有考虑到，后续需要添加若干项的情况。这个时候常出现以下问题。
+ 因为不是必须项，更新相关数据的时候，失败。
可以通过在 `rules` 函数，添加 `require` 选项来解决。
+ 复制数组到某一个项的时候，发现失败。
需要在 `rules` 函数，添加 `safe` 一项。
+ 某些时候需要删除 *./frontend/runtime/* ，*./frontend/web/assents/* 的内容，甚至需要清空浏览器的各种保存数据，应对数据库，js等的修改。
+ 有时候还需要删除 *./common/cache/* 的内容。
